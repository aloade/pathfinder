<!-- NOTE IMPORTANTE
- pas d'undescore pour la classe "repeating_XXX"
- pour les "sheet worker" si des repeating sont en cause, envoyer les résulats sur des input "hidden"
- les balises attr, article, section ne sont n'est pas autorisés
- les règles css pour les rolltemplate sont unique pour chaqu'un
- les input ont un width imposé, obligation d'utiliser "important"
- les attributes "data" pour les balises ne sont pas autorisées
-->

<script type="text/worker">
    /* ===== PARAMETERS ==========
    destination     the name of the attribute that stores the total quantity
    section         name of repeating fieldset, without the repeating_
    fields          the name of the attribute field to be summed
                    can be a single attribute: 'weight'
                    or an array of attributes: ['weight','number','equipped']
    multiplier      a multiplier to the entire fieldset total.
                    For instance, if summing coins of weight 0.02, might want to multiply the final total by 0.02.
    */
    const repeatingSum = (destination, section, fields, multiplier = 1) => {
            if (!Array.isArray(fields)) fields = [fields];
            getSectionIDs(`repeating_${section}`, idArray => {
                const attrArray = idArray.reduce( (m,id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))],[]);
                getAttrs(attrArray, v => {
                    console.log("v: "+ JSON.stringify(v));

                    // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
                    const getValue = (section, id, field) => parseFloat(v[`repeating_${section}_${id}_${field}`], 10) || (v[`repeating_${section}_${id}_${field}`] === "on" ? 1 : 0);
                    const sumTotal = idArray.reduce((total, id) => total + fields.reduce((subtotal,field) => subtotal * getValue(section, id,field),1),0);

                    console.log({[destination]: sumTotal * multiplier});
                    setAttrs({[destination]: sumTotal * multiplier});
                });
            });
    };

    /* classes */
    // repeating_<section>_<field>
    on("sheet:opened change:repeating_classes remove:repeating_classes", function() {
        console.log("--repeating_classes-----------------------------------------");
        let section = "repeating_classes";
        let fields = ["classes_bba", "classes_compniv", "classes_compcp", "classes_vigor", "classes_reflexes", "classes_willpower", "classes_level"];
        let attr = fields.map(field => `${section}_${field}`);

        getSectionIDs(section, id => {
            let attr = id.reduce( (m,id) => [...m, ...(fields.map(field => `${section}_${id}_${field}`))],[]);
            console.log(attr);
                getAttrs(attr, load => {
                    // if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0.
                    const load = (section, id, field) => parseFloat(load[`${section}_${id}_${field}`], 10) || (load[`${section}_${id}_${field}`] === "on" ? 1 : 0);
                    console.log(load);
                });
            /*
            getAttrs(attr, load => {
                console.log("-------------------------------------------");
                console.log("attr: "+ JSON.stringify(attr));
                console.log("load: "+ JSON.stringify(load));
                // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
                //let getValue = (section, id, field) => parseFloat(load[`${section}_${id}_${field}`], 10) || (v[`repeating_${section}_${id}_${field}`] === "on" ? 1 : 0);
            });
            */
        });
        /*
    	repeatingSum("foo_classes_bba_total", "classes", "classes_bba");
    	repeatingSum("foo_classes_compniv_total", "classes", "classes_compniv");
    	repeatingSum("foo_classes_compcp_total", "classes", "classes_compcp");
    	repeatingSum("foo_classes_vigor_total", "classes", "classes_vigor");
    	repeatingSum("foo_classes_reflexes_total", "classes", "classes_reflexes");
    	repeatingSum("foo_classes_willpower_total", "classes", "classes_willpower");
    	repeatingSum("foo_classes_level_total", "classes", "classes_level");
    	*/
    });

    /* armure */
    on("sheet:opened change:repeating_equipmentarmor remove:repeating_equipmentarmor", function() {
    	//repeatingSum("foo_defense_ca_bonus", "equipmentarmor", ["equipment_armor_bonus", "equipment_armor_worn"], 1);
    	//repeatingSum("foo_defense_dexterity_max", "equipmentarmor", ["equipment_armor_dexterity_max", "equipment_armor_worn"], 1);
    });
</script>

<div class="sheet-header">
    <div class="sheet-flexrow">
        <div class="sheet-flexcol8">
            <div class="sheet-header-character">
                <input type="text" name="attr_character_name" placeholder="Nom du personnage" />
            </div>
        </div>

        <div class="sheet-flexcol4">
            <div class="sheet-flexrow">
                <div class="sheet-flexcol6">
                    <div class="sheet-header-stat">
                        <table>
                            <thead>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="sheet-header-label">
                                    <span>Niveau</span>
                                </td>
                                <td class="sheet-header-content">
                                    <input type="number" name="attr_level" value="@{foo_classes_level_total}" disabled="disabled"/>
                                </td>
                            </tr>
                            <tr>
                                <td class="sheet-header-label">
                                    <span title="Expérience">Exp.</span>
                                </td>
                                <td class="sheet-header-content">
                                    <div class="sheet-flexrow">
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_experience" value="0" min="0" />
                                        </div>
                                        <div class="sheet-flexcol12">
                                            <span>/</span>
                                        </div>
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_experience_max" value="0"  min="0"/>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>

                <div class="sheet-flexcol6">
                    <div class="sheet-header-stat">
                        <table>
                            <thead>
                            </thead>
                            <tbody>
                            <tr>
                                <td class="sheet-header-label">
                                    <span>Vitalité</span>
                                </td>
                                <td class="sheet-header-content">
                                    <div class="sheet-flexrow">
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_vitality" value="0" min="0" />
                                        </div>
                                        <div class="sheet-flexcol12">
                                            <span>/</span>
                                        </div>
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_vitality_max" value="0" min="0" />
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td class="sheet-header-label">
                                    <span>Santé</span>
                                </td>
                                <td class="sheet-header-content">
                                    <div class="sheet-flexrow">
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_health" value="0" min="0" />
                                        </div>
                                        <div class="sheet-flexcol12">
                                            <span>/</span>
                                        </div>
                                        <div class="sheet-flexcol">
                                            <input type="text" name="attr_character_health_max" value="0" min="0" />
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <div class="sheet-header-stat">
                <table>
                    <tbody>
                    <tr>
                        <td>
                            <div class="sheet-input-group">
                                <input type="number" name="attr_devise_gold" value="0" min="0" />
                                <div class="sheet-input-group-prepend">
                                    <span class="sheet-input-group-text">po</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="sheet-input-group">
                                <input type="number" name="attr_devise_silver" value="0" min="0" />
                                <div class="sheet-input-group-prepend">
                                    <span class="sheet-input-group-text">pa</span>
                                </div>
                            </div>
                        </td>
                        <td>
                            <div class="sheet-input-group">
                                <input type="number" name="attr_devise_copper" value="0" min="0" />
                                <div class="sheet-input-group-prepend">
                                    <span class="sheet-input-group-text">pc</span>
                                </div>
                            </div>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<div class="sheet-tab">
    <input type="radio" id="tab1" name="attr_tab" checked="checked">
    <label for="tab1">Personnage</label>
    <input type="radio" id="tab2" name="attr_tab">
    <label for="tab2">Combats</label>
    <input type="radio" id="tab3" name="attr_tab">
    <label for="tab3">Compétences</label>
    <input type="radio" id="tab4" name="attr_tab">
    <label for="tab4">Talents</label>
    <input type="radio" id="tab5" name="attr_tab">
    <label for="tab5">Magie</label>
    <input type="radio" id="tab6" name="attr_tab">
    <label for="tab6">Équipement</label>
    <input type="radio" id="tab7" name="attr_tab">
    <label for="tab7">Notes</label>

    <div class="sheet-tab-content">
        <div class="sheet-flexrow">
            <div class="sheet-flexcol8">
                <div class="sheet-stat sheet-section">
                    <table>
                        <thead>
                        <tr>
                            <td width="1%"></td>
                            <th title="Statistiques">Stat.</th>
                            <th width="15%" title="= Mod. + Base + Bonus + Malus">Total</th>
                            <th width="15%" title="Modificateur">Mod.</th>
                            <th width="15%">Base</th>
                            <th width="15%">Bonus</th>
                            <th width="15%">Malus</th>
                        </tr>
                        </thead>
                        <tr>
                            <td>
                                <button title="test de force" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de force}}{{test=[[1D20cf<1cs>20+@{character_strength_total}]]}})" name="roll_character_strength"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Force</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_total" class="sheet-strong" value="(@{character_strength_base}+@{character_strength_bonus}-@{character_strength_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_mod" value="(floor((@{character_strength_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_base" value="10" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_bonus" value="0" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_strength_malus" value="0" min="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button title="test de dextérité" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de dextérité}}{{test=[[1D20cf<1cs>20+@{character_dexterity_total}]]}})" name="roll_character_dexterity"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Dextérité</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_total" class="sheet-strong" value="(@{character_dexterity_base}+@{character_dexterity_bonus}-@{character_dexterity_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_mod" value="(floor((@{character_dexterity_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_base" value="10" min="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_bonus" value="0" min="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_dexterity_malus" value="0" min="0" />
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button title="test de constitution" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de constitution}}{{test=[[1D20cs>20+@{character_constitution_total}]]}})" name="roll_character_constitution"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Constitution</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_total" class="sheet-strong" value="(@{character_constitution_base}+@{character_constitution_bonus}-@{character_constitution_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_mod" value="(floor((@{character_constitution_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_base" value="10" min="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_bonus" value="0" min="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_constitution_malus" value="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button title="test d'intelligence" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test d'intelligence}}{{test=[[1D20cs>20+@{character_intelligence_total}]]}})" name="roll_character_intelligence"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Intelligence</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_total" class="sheet-strong" value="(@{character_intelligence_base}+@{character_intelligence_bonus}-@{character_intelligence_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_mod" value="(floor((@{character_intelligence_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_base" value="10" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_bonus" value="0" min="0"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_intelligence_malus" value="0" min="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button title="test de sagesse" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de sagesse}}{{test=[[1D20cs>20+@{character_wisdom_total}]]}})" name="roll_character_wisdom"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Sagesse</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_total" class="sheet-strong" value="(@{character_wisdom_base}+@{character_wisdom_bonus}-@{character_wisdom_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_mod" value="(floor((@{character_wisdom_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input  type="number" name="attr_character_wisdom_base" value="10" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_bonus" value="0" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_wisdom_malus" value="0" min="0"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <button title="test de charisme" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de charisme}}{{test=[[1D20cs>20+@{character_charisma_total}]]}})" name="roll_character_charisma"></button>
                            </td>
                            <td class="sheet-center">
                                <span>Charisme</span>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_total" class="sheet-strong" value="(@{character_charisma_base}+@{character_charisma_bonus}-@{character_charisma_malus})" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_mod" value="(floor((@{character_charisma_total}/2)-5))" disabled="disabled"/>
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_base" value="10" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_bonus" value="0" min="0" />
                            </td>
                            <td>
                                <input type="number" name="attr_character_charisma_malus" value="0" min="0"/>
                            </td>
                        </tr>
                    </table>
                </div>
            </div>

            <div class="sheet-flexcol4">
                <div class="sheet-character sheet-section">
                    <table>
                        <thead>
                        <tr>
                            <th width="50%" class="general-info-title">Origine</th>
                            <th width="50%" class="general-info-title">Divinité</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_character_origin" placeholder="N/A" />
                            </td>
                            <td>
                                <input type="text" name="attr_character_culture" placeholder="N/A" />
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <table>
                        <thead>
                        <tr>
                            <th width="50%" class="general-info-title">Alignement</th>
                            <th width="50%" class="general-info-title">Peuple</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <input type="text" name="attr_character_alignment" placeholder="N/A" />
                            </td>
                            <td>
                                <input type="text" name="attr_character_race" placeholder="N/A">
                            </td>
                        </tr>
                        </tbody>
                    </table>

                    <table>
                        <thead>
                        <tr>
                            <th width="50%" class="general-info-title">Taille</th>
                            <th width="50%" class="general-info-title">Âge</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <select name="attr_character_size">
                                    <option value="-8">Colossal</option>
                                    <option value="-4">Gigantesque</option>
                                    <option value="-2">Très Grande</option>
                                    <option value="-1">Grande</option>
                                    <option value="0" selected="selected">Moyenne</option>
                                    <option value="1">Petite</option>
                                    <option value="2">Très Petite</option>
                                    <option value="4">Minuscule</option>
                                    <option value="8">Infime</option>
                                </select>
                            </td>
                            <td>
                                <input type="text" name="attr_character_age" placeholder="N/A">
                            </td>
                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>

        <div class="sheet-class sheet-section">
            <h2>Classes</h2>
            <table>
                <thead>
                <tr>
                    <th width="12.5%">Classe</th>
                    <th width="12.5%" title="Bonus de Base à l’Attaque">BBA</th>
                    <th width="12.5%" title="Compétences par Niveaux">Comp./Niv.</th>
                    <th width="12.5%" title="?">Comp. cp</th>
                    <th width="12.5%">Réflexes</th>
                    <th width="12.5%">Vigueur</th>
                    <th width="12.5%">Volonté</th>
                    <th width="12.5%">Niveaux</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td class="sheet-center sheet-strong">
                        <span>Totaux</span>
                    </td>
                    <td title="somme de BBA">
                        <input type="hidden" name="attr_foo_classes_bba_total" value="0" />
                        <input type="number" name="attr_classes_bba_total" class="sheet-strong" value="@{foo_classes_bba_total}" disabled="disabled"/>
                    </td>
                    <td title="somme de Comp./Niv. &#215; Niveaux">
                        <input type="hidden" name="attr_foo_classes_compniv_total" value="0" />
                        <input type="number" name="attr_classes_compniv_total" class="sheet-strong" value="@{foo_classes_compniv_total}" disabled="disabled"/>
                    </td>
                    <td title="?">
                        <input type="hidden" name="attr_foo_classes_compcp_total" value="0" />
                        <input type="number" name="attr_classes_compcp_total" class="sheet-strong" value="@{foo_classes_compcp_total}" disabled="disabled"/>
                    </td>
                    <td title="somme de Réflexes">
                        <input type="hidden" name="attr_foo_classes_reflexes_total" value="0" />
                        <input type="number" name="attr_classes_reflexes_total" class="sheet-strong" value="@{foo_classes_reflexes_total}" disabled="disabled"/>
                    </td>
                    <td title="somme de Vigueur">
                        <input type="hidden" name="attr_foo_classes_vigor_total" value="0" />
                        <input type="number" name="attr_classes_vigor_total" class="sheet-strong" value="@{foo_classes_vigor_total}" disabled="disabled"/>
                    </td>
                    <td title="somme de Volonté">
                        <input type="hidden" name="attr_foo_classes_willpower_total" value="0" />
                        <input type="number" name="attr_classes_willpower_total" class="sheet-strong" value="@{foo_classes_willpower_total}" disabled="disabled"/>
                    </td>
                    <td title="somme de Niveaux">
                        <input type="hidden" name="attr_foo_classes_level_total" value="0" />
                        <input type="number" name="attr_classes_level_total" class="sheet-strong" value="@{foo_classes_level_total}" disabled="disabled"/>
                    </td>
                </tr>
                </tbody>
            </table>
            <fieldset class="repeating_classes">
                <table>
                    <tbody>
                    <tr>
                        <td width="12.5%">
                            <input type="text" name="attr_classes_name" placeholder="N/A"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_bba" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_compniv" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_compcp" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_reflexes" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_vigor" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_willpower" value="0"/>
                        </td>
                        <td width="12.5%">
                            <input type="number" name="attr_classes_level" value="0"/>
                        </td>
                    </tr>
                    </tbody>
                </table>
            </fieldset>
        </div>
    </div>

    <div class="sheet-tab-content">
        <div class="sheet-saves sheet-section">
            <h2>Jets de sauvegarde</h2>
            <table>
                <thead>
                <tr>
                    <td width="1%"></td>
                    <th width="12%">Type</th>
                    <th width="12%" title="= Base + Mod. + Trait + Bonus + Résistance + Divers">Total</th>
                    <th width="12%">Base</th>
                    <th width="12%" title="Modificateur de caractéristique">Mod.</th>
                    <th width="12%">Trait</th>
                    <th width="12%">Bonus</th>
                    <th width="12%">Résistance</th>
                    <th width="12%">Divers</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <button title="test de réflexe" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de réflexe}}{{test=[[1D20cs>20+@{reflexes_total}]]}})" name="roll_reflexes"></button>
                    </td>
                    <td class="sheet-center">
                        <span>Réflexes</span>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_total" class="sheet-strong" value="(@{reflexes_base}+@{reflexes_statistic}+@{reflexes_feat}+@{reflexes_bonus}+@{reflexes_resistance}+@{reflexes_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_base" value="@{classes_reflexes_total}" disabled="disabled" />
                    </td>
                    <td title="Dextérité">
                        <div class="sheet-input-group sheet-disabled">
                            <input type="number" name="attr_reflexes_statistic" value="@{character_dexterity_mod}" disabled="disabled"/>
                            <div class="sheet-input-group-text">
                                <span>Dex.</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_feat" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_bonus" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_resistance" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_reflexes_misc" value="0"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button title="test de vigueur" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de vigueur}}{{test=[[1D20cs>20+@{vigor_total}]]}})" name="roll_vigor"></button>
                    </td>
                    <td class="sheet-center">
                        <span>Vigueur</span>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_total" class="sheet-strong"value="(@{vigor_base}+@{vigor_statistic}+@{vigor_feat}+@{vigor_bonus}+@{vigor_resistance}+@{vigor_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_base" value="@{classes_vigor_total}" disabled="disabled"/>
                    </td>
                    <td title="Constitution">
                        <div class="sheet-input-group sheet-disabled">
                            <input type="number" name="attr_vigor_statistic" value="@{character_constitution_mod}" disabled="disabled"/>
                            <div class="sheet-input-group-text">
                                <span>Con.</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_feat" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_bonus" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_resistance" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_vigor_misc" value="0"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button title="test de volonté" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de volonté}}{{test=[[1D20cs>20+@{willpower_total}]]}})" name="roll_willpower"></button>
                    </td>
                    <td class="sheet-center">
                        <span>Volonté</span>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_total" class="sheet-strong" value="(@{willpower_base}+@{willpower_statistic}+@{willpower_feat}+@{willpower_bonus}+@{willpower_resistance}+@{willpower_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_base" value="@{classes_willpower_total}" disabled="disabled"/>
                    </td>
                    <td title="Volonté">
                        <div class="sheet-input-group sheet-disabled">
                            <input type="number" name="attr_willpower_statistic" value="@{character_wisdom_mod}" disabled="disabled"/>
                            <div class="sheet-input-group-text">
                                <span>Vol.</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_feat" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_bonus" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_resistance" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_willpower_misc" value="0"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="sheet-battlemoves sheet-section">
            <h2>Les man&oelig;uvres de combat</h2>
            <table>
                <thead>
                <tr>
                    <td width="1%"></td>
                    <th width="12%">Type</th>
                    <th width="12%" title="= BBA + Taille + Mod. + Bonus + Temporaire + Divers">Total</th>
                    <th width="12%" title="Bonus de Base à l'Attaque">BBA</th>
                    <th width="12%" title="Modificateur de taille">Taille</th>
                    <th width="12%" title="Modificateurs" colspan="3">Mod.</th>
                    <th width="12%">Bonus</th>
                    <th width="12%">Temporaire</th>
                    <th width="12%">Divers</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <button title="test de man&oelig;uvre offensive" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de man&oelig;uvre offensive}}{{test=[[1D20cf<1cs>20+@{battle_move_cmb_total}]]}})" name="roll_reflexes"></button>
                    </td>
                    <td class="sheet-center" title="bonus de Man&oelig;uvre offensive">
                        <span>BMO</span>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_total" class="sheet-strong" value="(@{classes_bba_total}+@{character_size}+@{character_strength_mod}+@{battle_move_cmb_bonus}+@{battle_move_cmb_temporary}+@{battle_move_cmb_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_bba" value="@{classes_bba_total}" disabled="disabled" />
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_size" value="@{character_size}" disabled="disabled" />
                    </td>
                    <td colspan="3" title="modificateur de force">
                        <input type="number" name="attr_battle_move_cmb_mod_strength" value="@{character_strength_mod}" disabled="disabled" />
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_bonus" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_temporary" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmb_misc" value="0"/>
                    </td>
                </tr>
                <tr>
                    <td>
                    </td>
                    <td class="sheet-center" title="Degré de Man&oelig;uvre Défensive">
                        <span>DMD</span>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_total" class="sheet-strong" value="(@{classes_bba_total}+@{character_size}+@{character_strength_mod}+@{character_dexterity_mod}+@{battle_move_cmd_base}+@{battle_move_cmd_bonus}+@{battle_move_cmd_temporary}+@{battle_move_cmd_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_bba" value="@{classes_bba_total}" disabled="disabled" />
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_size" value="@{character_size}" disabled="disabled" />
                    </td>
                    <td>
                        <input title="Modificateur de dextérité" type="number" name="attr_battle_move_cmd_mod_strength" value="@{character_strength_mod}" disabled="disabled" />
                    </td>
                    <td>
                        <input title="Modificateur de dextérité" type="number" name="attr_battle_move_cmd_mod_dexteriy" value="@{character_dexterity_mod}" disabled="disabled" />
                    </td>
                    <td>
                        <input title="Modificateur de base" type="number" name="attr_battle_move_cmd_base" value="10" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_bonus" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_temporary" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_battle_move_cmd_misc" value="0"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="sheet-initiative sheet-section">
            <h2>Initiative</h2>
            <table>
                <thead>
                <tr>
                    <td width="1%"></td>
                    <th title="= Mod. + Divers">Total</th>
                    <th title="Modificateur de dextérité">Mod.</th>
                    <th>Divers</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <button title="test d'initiative" type="roll" value="(&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test d'iniative}}{{test=[[1D20+@{initiative_total}]]}})" name="roll_initiative"></button>
                    </td>
                    <td>
                        <input type="number" name="attr_initiative_total" class="sheet-strong" value="(@{initiative_dexterity}+@{initiative_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_initiative_dexterity" value="(@{character_dexterity_mod})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_initiative_misc" value="0" />
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="sheet-attack sheet-section">
            <h2>Attaques</h2>
            <fieldset class="repeating_attack">
                <div class="sheet-attack-content">
                    <div class="sheet-flexrow">
                        <div class="sheet-flexcol-auto">
                            <button title="test d'attaque" type="roll" value="&{template:roll}{{battle=show}}{{who=@{character_name}}}{{attack_name=@{attack_name}}}{{test=[[1d20cf<1cs>@{attack_critic}+@{attack_total}]]}}{{damage=[[@{attack_dices_count}d@{attack_dices}+@{attack_bonus}+@{character_strength_mod}*@{attack_handler_hand}]]}}{{damage_critic=[[floor((@{attack_dices_count}d@{attack_dices}+@{attack_bonus}+@{character_strength_mod}*@{attack_handler_hand})*@{attack_critic_multiplier})]]}}{{target_name=@{target|character_name}}}{{target_ca=[[@{target|defense_ca_total}]]}}" name="roll_attack"></button>
                        </div>
                        <div class="sheet-flexcol">
                            <div class="sheet-attack-subcontent">
                                <div class="sheet-attack-label sheet-flexrow">
                                    <div class="sheet-flexcol4">
                                        <input class="sheet-attack-name" type="text" name="attr_attack_name" placeholder="Nom de l'attaque" />
                                    </div>
                                    <div class="sheet-flexcol8">
                                        <div class="input-group">
                                            <div class="input-group-prepend">
                                                <span class="input-group-text">Conditions particulières</span>
                                            </div>
                                            <input type="text" name="attr_attack_status" />
                                        </div>
                                    </div>
                                </div>
                                <div class="sheet-accordion">
                                    <input class="sheet-accordion-checkbox" type="checkbox" name="sheet-attack-checkbox"  Title="Afficher / Masquer le détail" />
                                    <div class="sheet-accordion-container">
                                        <div class="sheet-accordion-content">
                                            <table>
                                                <thead>
                                                <tr>
                                                    <th title="= BBA + Mod. + Taille + Équipement + Autre + Temporaire">Total</th>
                                                    <th title="Bonus de Base à l'Attaque">
                                                        BBA
                                                    </th>
                                                    <th title="Modificateur de caractéristique">
                                                        Mod.
                                                    </th>
                                                    <th>Taille</th>
                                                    <th>Équipement</th>
                                                    <th>Autre</th>
                                                    <th>Temporaire</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td>
                                                        <input type="number" name="attr_attack_total" class="sheet-strong" value="@{classes_bba_total}+@{attack_mod_statistic_select}+@{character_size}+@{attack_mod_equipment}+@{attack_mod_misc}+@{attack_mod_temporary}" disabled="disabled" />
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_bba" value="@{classes_bba_total}" disabled="disabled" />
                                                    </td>
                                                    <td>
                                                        <div class="sheet-input-group">
                                                            <input type="number" name="attr_attack_mod_statistic" value="@{attack_mod_statistic_select}" disabled="disabled" />
                                                            <select name="attr_attack_mod_statistic_select">
                                                                <option value="" selected="selected"></option>
                                                                <option value="@{character_strength_mod}">For.</option>
                                                                <option value="@{character_dexterity_mod}">Dex.</option>
                                                                <option value="@{character_constitution_mod}">Con.</option>
                                                                <option value="@{character_intelligence_mod}">Int.</option>
                                                                <option value="@{character_wisdom_mod}">Sag.</option>
                                                                <option value="@{character_charisma_mod}">Cha.</option>
                                                            </select>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_size" value="@{character_size}" disabled="disabled" />
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_mod_equipment" value="0" />
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_mod_misc" value="0" />
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_mod_temporary" value="0" />
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>

                                            <table>
                                                <thead>
                                                <tr>
                                                    <th>
                                                        Dégâts
                                                    </th>
                                                    <th title="Modificateur de caractéristique">
                                                        Mod.
                                                    </th>
                                                    <th>Tenue de l'arme</th>
                                                    <th>Critique</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td>
                                                        <div class="sheet-input-group">
                                                            <input type="number" name="attr_attack_dices_count" value="1" min="1" step="1"/>
                                                            <div class="sheet-input-group-prepend">
                                                                <span class="input-group-text">d</span>
                                                            </div>
                                                            <select name="attr_attack_dices">
                                                                <option value="4" selected="selected">4</option>
                                                                <option value="6">6</option>
                                                                <option value="8">8</option>
                                                                <option value="10">10</option>
                                                                <option value="12">12</option>
                                                                <option value="20">20</option>
                                                                <option value="100">100</option>
                                                            </select>
                                                            <div class="sheet-input-group-prepend">
                                                                <span class="input-group-text">+</span>
                                                            </div>
                                                            <input type="number" name="attr_attack_bonus" value="0"/>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <input type="number" name="attr_attack_mod" value="@{character_strength_mod}" disabled="disabled" />
                                                    </td>
                                                    <td>
                                                        <div class="sheet-input-group">
                                                            <input type="number" name="attr_attack_handler" value="@{attack_handler_hand}" disabled="disabled" />
                                                            <select name="attr_attack_handler_hand">
                                                                <option value=""></option>
                                                                <option value="1">1 main</option>
                                                                <option value="0.5">secondaire</option>
                                                                <option value="1.5">2 mains</option>
                                                            </select>
                                                        </div>
                                                    </td>
                                                    <td>
                                                        <div class="sheet-input-group">
                                                            <select name="attr_attack_critic">
                                                                <option value="20" selected="selected">20</option>
                                                                <option value="19">19-20</option>
                                                                <option value="18">18-20</option>
                                                                <option value="17">17-20</option>
                                                                <option value="16">16-20</option>
                                                                <option value="15">15-20</option>
                                                                <option value="14">14-20</option>
                                                                <option value="13">13-20</option>
                                                                <option value="12">12-20</option>
                                                                <option value="11">11-20</option>
                                                                <option value="10">10-20</option>
                                                                <option value="9">9-20</option>
                                                                <option value="8">8-20</option>
                                                                <option value="7">7-20</option>
                                                                <option value="6">6-20</option>
                                                                <option value="5">5-20</option>
                                                                <option value="4">4-20</option>
                                                                <option value="3">3-20</option>
                                                                <option value="2">2-20</option>
                                                            </select>
                                                            <div class="sheet-input-group-append">
                                                                <span class="sheet-input-group-text">&#215;</span>
                                                            </div>
                                                            <input type="number" name="attr_attack_critic_multiplier" value="1" min="0" />
                                                        </div>
                                                    </td>
                                                </tr>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="sheet-equipment-summary sheet-section">
            <h2>Défense</h2>
            <div class="sheet-input-group" title="= Base + Armure + Dex. + Taille + Esquive + Parade + Divers - Malus">
                <div class="sheet-input-group-text">
                    <span>Classe d'Armure</span>
                </div>
                <input type="text" name="attr_defense_ca_total" class="sheet-strong" value="@{defense_ca_base}+@{defense_ca_bonus}+@{defense_bonus_size}+@{defense_bonus_dodge}+@{defense_bonus_parade}+@{defense_bonus_misc}-@{defense_malus}" disabled="disabled"/>
            </div>

            <table>
                <thead>
                <tr>
                    <th>Base</th>
                    <th title="Bonus d'Armure">Armure</th>
                    <th title="Modificateur de Dextérité">Dex.</th>
                    <th title="Bonus de Dextérité Maximale">Dex. Max.</th>
                    <th>Taille</th>
                    <th>Esquive</th>
                    <th>Parade</th>
                    <th>Divers</th>
                    <th>Malus</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <input type="number" name="attr_defense_ca_base" value="10" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="hidden" name="attr_foo_defense_ca_bonus" value="0"/>
                        <input type="number" name="attr_defense_ca_bonus" disabled="disabled" value="@{foo_defense_ca_bonus}"/>
                    </td>
                    <td>
                        <input type="number" name="attr_defense_dexterity_mod" value="@{character_dexterity_mod}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="hidden" name="attr_foo_defense_dexterity_max" value="0" />
                        <input type="number" name="attr_defense_dexterity_max" disabled="disabled" value="@{foo_defense_dexterity_max}"/>
                    </td>
                    <td>
                        <input type="number" name="attr_defense_bonus_size" value="@{character_size}" disabled="disabled" />
                    </td>
                    <td>
                        <input type="number" name="attr_defense_bonus_dodge" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_defense_bonus_parade" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_defense_bonus_misc" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_defense_malus" value="0"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="sheet-tab-content">
        <div class="sheet-skill-summary sheet-section">
            <table>
                <thead>
                <tr>
                    <th width="25%" title="Rang Maximum atteignable&#13;= ( Comp./Niv. + Mod. intelligence ) &#215; Niveaux du personnage + Bonus">Max.</th>
                    <th width="25%" title="Rangs dépensés&#13;= somme de Rang">Dépensés</th>
                    <th width="25%" title="Rangs restants&#13;= Max. - Dépensés - Bonus">Restants</th>
                    <th width="25%">Bonus</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <input type="number" name="attr_skill_max" value="(@{foo_classes_level_total}*@{character_intelligence_mod}+@{skill_misc})" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_sum" value="@{skill_acrobatics_ranks}+@{Spellcraft_ranks}+@{Bluff_ranks}+@{Knowledge-Dungeoneering_ranks}+@{Knowledge-Local_ranks}+@{Knowledge-Arcana_ranks}+@{Knowledge-Nature_ranks}+@{Knowledge-Planes_ranks}+@{Knowledge-Religion_ranks}+@{Disguise_ranks}+@{Diplomacy_ranks}+@{Stealth_ranks}+@{Ride_ranks}+@{Climb_ranks}+@{Escape_ranks}+@{Intimidate_ranks}+@{Swim_ranks}+@{Perception_ranks}+@{Heal_ranks}+@{Sense-Motive_ranks}+@{Disable-Device_ranks}+@{Survival_ranks}+@{Use-Magic-Device_ranks}+@{Fly_ranks}+@{Artistry_ranks}+@{Craft_ranks}+@{Craft2_ranks}+@{Craft3_ranks}+@{Knowledge-Geography_ranks}+@{Knowledge-History_ranks}+@{Knowledge-Engineering_ranks}+@{Knowledge-Nobility_ranks}+@{Handle-Animal_ranks}+@{Sleight-of-Hand_ranks}+@{Appraise_ranks}+@{Linguistics_ranks}+@{Lore_ranks}+@{Profession_ranks}+@{Profession2_ranks}+@{Profession3_ranks}+@{Perform_ranks}+@{Perform2_ranks}+@{Perform3_ranks}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_remaining" value="@{skill_max}-@{skill_sum}-@{skill_misc}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_misc" value="0"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="sheet-skill sheet-section">
            <h2>Aventure</h2>
            <table>
                <thead>
                <tr>
                    <td width="1%"></td>
                    <th width="1%" title="Compétence de Classe ?">CC</th>
                    <th>Compétence</th>
                    <th width="8%">Total</th>
                    <th width="8%">Rang</th>
                    <th width="8%">Classe</th>
                    <th width="8%" title="Modificateur de caractéristique">Mod.</th>
                    <th width="8%" title="Malus d'armure">Malus</th>
                    <th width="8%">Trait</th>
                    <th width="8%">Don</th>
                    <th width="8%">Temporaire</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <button title="test d'acrobatie" type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test d'Acrobaties}}{{test=[[1D20cf<1cs>20+([[@{skill_xxx_total}]])]]}}" name="roll_skill_xxx"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_skill_xxx_cc" value="((((3 * @{skill_xxx_ranks}) + 3) - abs((3 * @{skill_xxx_ranks}) - 3)) / 2)"/></td>
                    <td>
                        xxx</td>
                    <td>
                        <input type="number" name="attr_skill_xxx_total" disabled="disabled" class="sheet-strong" value="@{skill_xxx_ranks}+@{skill_xxx_class}+@{skill_xxx_stat}+@{skill_xxx_trait}+@{skill_xxx_gift}+@{xxx_temporary}"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_ranks" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_class" value="@{skill_xxx_cc}" disabled="disabled"/>
                    </td>
                    <td>
                        <div class="sheet-input-group sheet-disabled">
                            <input type="number" name="attr_skill_xxx_stat" value="@{character_dexterity_mod}" disabled="disabled" />
                            <div class="sheet-input-group-append">
                                <span class="sheet-input-group-text">Dex.</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_trait" value="@{defense_malus}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_trait" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_gift" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_xxx_temporary" value="0"/>
                    </td>
                </tr>
                <!--Acrobatics-->
                <tr>
                    <td>
                        <button title="test d'acrobatie" type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test d'Acrobaties}}{{test=[[1D20cf<1cs>20+([[@{skill_acrobatics_total}]])]]}}" name="roll_skill_acrobatics"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_skill_acrobatics_cc" value="((((3 * @{skill_acrobatics_ranks}) + 3) - abs((3 * @{skill_acrobatics_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Acrobaties</td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_total" disabled="disabled" class="sheet-strong" value="@{skill_acrobatics_ranks}+@{skill_acrobatics_class}+@{skill_acrobatics_stat}+@{skill_acrobatics_trait}+@{skill_acrobatics_gift}+@{acrobatics_temporary}"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_ranks" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_class" value="@{skill_acrobatics_cc}" disabled="disabled"/>
                    </td>
                    <td>
                        <div class="sheet-input-group sheet-disabled">
                            <input type="number" name="attr_skill_acrobatics_stat" value="@{character_dexterity_mod}" disabled="disabled" />
                            <div class="sheet-input-group-append">
                                <span class="sheet-input-group-text">Dex.</span>
                            </div>
                        </div>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_trait" value="@{defense_malus}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_trait" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_gift" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_skill_acrobatics_temporary" value="0"/>
                    </td>
                </tr>
                <!--Spellcraft-->
                <tr>
                    <td>
                        <button title="test d'art de la magie" type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test d'art de la magie}}{{test=[[1D20cf<1cs>20+([[@{Spellcraft_total}]])]]}}" name="roll_Spellcraft"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Spellcraft_cc" value="((((3 * @{Spellcraft_ranks}) + 3) - abs((3 * @{Spellcraft_ranks}) - 3)) / 2)"/>
                    </td>
                    <td>
                        Art de la magie
                    </td>
                    <td>
                        <input type="number" name="attr_Spellcraft_total" disabled="disabled" class="sheet-strong" value="@{Spellcraft_ranks}+@{Spellcraft_class}+@{Spellcraft_stat_display}+@{Spellcraft-trait}+@{Spellcraft-gift}+@{Spellcraft-object}"/></td>
                    <td>
                        <input type="number" name="attr_Spellcraft_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Spellcraft_class" value="@{Spellcraft_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Spellcraft_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select>
                    </td>
                    <td>
                        <input type="number" name="attr_Spellcraft_stat_display" value="@{Spellcraft_stat}" disabled="disabled"/>
                    </td>
                    <td>
                        <input type="number" name="attr_Spellcraft-trait" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_Spellcraft-gift" value="0"/>
                    </td>
                    <td>
                        <input type="number" name="attr_Spellcraft-object" value="0"/>
                    </td>
                </tr>
                <!--Bluff-->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de Bluff}}{{test=[[1D20cf<1cs>20+([[@{Bluff_total}]])]]}}" name="roll_Bluff"></button></td>
                    <td>
                        <input type="checkbox" name="attr_Bluff_cc" value="((((3 * @{Bluff_ranks}) + 3) - abs((3 * @{Bluff_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Bluff</td>
                    <td>
                        <input type="number" name="attr_Bluff_total" disabled="disabled" class="sheet-strong" value="@{Bluff_ranks}+@{Bluff_class}+@{Bluff_stat_display}+@{Bluff-trait}+@{Bluff-gift}+@{Bluff-object}"/></td>
                    <td>
                        <input type="number" name="attr_Bluff_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Bluff_class" value="@{Bluff_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Bluff_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Bluff_stat_display" value="@{Bluff_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Bluff-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Bluff-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Bluff-object" value="0"/></td>
                </tr>
                <!--Connaissance (Exploration)-->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de connaissance (Exploration)}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Dungeoneering_total}]])]]}}" name="roll_Knowledge-Dungeoneering"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Dungeoneering_cc" value="((((3 * @{Knowledge-Dungeoneering_ranks}) + 3) - abs((3 * @{Knowledge-Dungeoneering_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Exploration)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering_total" disabled="disabled" class="sheet-strong" value="@{Knowledge-Dungeoneering_ranks}+@{Knowledge-Dungeoneering_class}+@{Knowledge-Dungeoneering_stat_display}+@{Knowledge-Dungeoneering-trait}+@{Knowledge-Dungeoneering-gift}+@{Knowledge-Dungeoneering-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering_class" value="@{Knowledge-Dungeoneering_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Dungeoneering_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering_stat_display" value="@{Knowledge-Dungeoneering_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Dungeoneering-object" value="0"/></td>
                </tr>
                <!-- Connaissance (Locale)-->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de connaissance (Locale}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Local_total}]])]]}}" name="roll_Knowledge-Local"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Local_cc" value="((((3 * @{Knowledge-Local_ranks}) + 3) - abs((3 * @{Knowledge-Local_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Locale)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local_total" disabled="disabled" class="sheet-strong" value="@{Knowledge-Local_ranks}+@{Knowledge-Local_class}+@{Knowledge-Local_stat_display}+@{Knowledge-Local-trait}+@{Knowledge-Local-gift}+@{Knowledge-Local-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local_class" value="@{Knowledge-Local_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Local_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local_stat_display" value="@{Knowledge-Local_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Local-object" value="0"/></td>
                </tr>
                <!--Connaissance (Mystères) -->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=Connaissance (Mystères)}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Arcana_total}]])]]}}" name="roll_Knowledge-Arcana"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Arcana_cc" value="((((3 * @{Knowledge-Arcana_ranks}) + 3) - abs((3 * @{Knowledge-Arcana_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Conaissance (Mystères)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana_total" disabled="disabled" class="sheet-strong" value="@{Knowledge-Arcana_ranks}+@{Knowledge-Arcana_class}+@{Knowledge-Arcana_stat_display}+@{Knowledge-Arcana-trait}+@{Knowledge-Arcana-gift}+@{Knowledge-Arcana-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana_class" value="@{Knowledge-Arcana_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Arcana_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana_stat_display" value="@{Knowledge-Arcana_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Arcana-object" value="0"/></td>
                </tr>
                <!--Connaissance (Nature) -->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de connaissance (Nature)}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Nature_total}]])]]}}" name="roll_Knowledge-Nature"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Nature_cc" value="((((3 * @{Knowledge-Nature_ranks}) + 3) - abs((3 * @{Knowledge-Nature_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Nature)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature_total" disabled="disabled" class="sheet-strong" value="@{Knowledge-Nature_ranks}+@{Knowledge-Nature_class}+@{Knowledge-Nature_stat_display}+@{Knowledge-Nature-trait}+@{Knowledge-Nature-gift}+@{Knowledge-Nature-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature_class" value="@{Knowledge-Nature_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Nature_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature_stat_display" value="@{Knowledge-Nature_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nature-object" value="0"/></td>
                </tr>
                <!--Connaissance (Plans) -->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de connaissance (Plans)}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Planes_total}]])]]}}" name="roll_Knowledge-Planes"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Planes_cc" value="((((3 * @{Knowledge-Planes_ranks}) + 3) - abs((3 * @{Knowledge-Planes_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Plans)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes_total" disabled="disabled" class="sheet-strong" value="@{Knowledge-Planes_ranks}+@{Knowledge-Planes_class}+@{Knowledge-Planes_stat_display}+@{Knowledge-Planes-trait}+@{Knowledge-Planes-gift}+@{Knowledge-Planes-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes_class" value="@{Knowledge-Planes_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Planes_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes_stat_display" value="@{Knowledge-Planes_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Planes-object" value="0"/></td>
                </tr>
                <!--connaissance  (Religion)-->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=test de connaissance (Religion)}}{{test=[[1D20cf<1cs>20+([[@{Knowledge-Religion_total}]])]]}}" name="roll_Knowledge-Religion"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Religion_cc" value="((((3 * @{Knowledge-Religion_ranks}) + 3) - abs((3 * @{Knowledge-Religion_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Religion)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion_total" class="sheet-strong" disabled="disabled" value="@{Knowledge-Religion_ranks}+@{Knowledge-Religion_class}+@{Knowledge-Religion_stat_display}+@{Knowledge-Religion-trait}+@{Knowledge-Religion-gift}+@{Knowledge-Religion-object}"/></td>
                    <td>
                        <input title="@Knowledge-Religion{_ranks}" type="number" name="attr_Knowledge-Religion_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion_class" value="@{Knowledge-Religion_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Religion_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion_stat_display" value="@{Knowledge-Religion_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Religion-object" value="0"/></td>
                </tr>
                <!--Déguisement -->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=Déguisement}}{{test=[[1D20cf<1cs>20+([[@{Disguise_total}]])]]}}" name="roll_Disguise"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Disguise_cc" value="((((3 * @{Disguise_ranks}) + 3) - abs((3 * @{Disguise_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Déguisement</td>
                    <td>
                        <input type="number" name="attr_Disguise_total" class="sheet-strong" disabled="disabled" value="@{Disguise_ranks}+@{Disguise_class}+@{Disguise_stat_display}+@{Disguise-trait}+@{Disguise-gift}+@{Disguise-object}"/></td>
                    <td>
                        <input type="number" name="attr_Disguise_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disguise_class" value="@{Disguise_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Disguise_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select>
                    </td>
                    <td>
                        <input type="number" name="attr_Disguise_stat_display" value="@{Disguise_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Disguise-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disguise-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disguise-object" value="0"/></td>
                </tr>
                <!--Diplomatie -->
                <tr>
                    <td>
                        <button type="roll" value="&{template:roll}{{basic=show}}{{who=@{character_name}}}{{label=Diplomatie}}{{test=[[1D20cf<1cs>20+([[@{Diplomacy_total}]])]]}}" name="roll_Diplomacy"></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Diplomacy_cc" value="((((3 * @{Diplomacy_ranks}) + 3) - abs((3 * @{Diplomacy_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Diplomatie</td>
                    <td>
                        <input type="number" name="attr_Diplomacy_total" class="sheet-strong" disabled="disabled" value="@{Diplomacy_ranks}+@{Diplomacy_class}+@{Diplomacy_stat_display}+@{Diplomacy-trait}+@{Diplomacy-gift}+@{Diplomacy-object}"/></td>
                    <td>
                        <input type="number" name="attr_Diplomacy_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Diplomacy_class" value="@{Diplomacy_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Diplomacy_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Diplomacy_stat_display" value="@{Diplomacy_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Diplomacy-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Diplomacy-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Diplomacy-object" value="0"/></td>
                </tr>
                <!--Discrétion -->
                <tr>
                    <td>
                        <button title="%{selected|Spellcraft-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Discrétion}}{{res=[[1D20cf<1cs>20+([[@{Spellcraft_total}]])]]}}' name='roll_stealth'></button>
                    </td>
                    <td>
                        <input type="checkbox" name="attr_Stealth_cc" value="((((3 * @{Stealth_ranks}) + 3) - abs((3 * @{Stealth_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Discrétion</td>
                    <td>
                        <input type="number" name="attr_Stealth_total" class="sheet-strong" disabled="disabled" value="@{Stealth_ranks}+@{Stealth_class}+@{Stealth_stat_display}+@{Stealth-trait}+@{Stealth-gift}+@{Stealth-object}"/></td>
                    <td>
                        <input type="number" name="attr_Stealth_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Stealth_class" value="@{Stealth_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Stealth_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Stealth_stat_display" value="@{Stealth_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Stealth-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Stealth-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Stealth-object" value="0"/></td>
                </tr>
                <!--Equitation -->
                <tr>
                    <td>
                        <button title="%{selected|Ride-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Equitation}}{{res=[[1D20cf<1cs>20+([[@{Ride_total}]])]]}}' name='roll_Ride'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Ride_cc" value="((((3 * @{Ride_ranks}) + 3) - abs((3 * @{Ride_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Équitation</td>
                    <td>
                        <input type="number" name="attr_Ride_total" class="sheet-strong" disabled="disabled" value="@{Ride_ranks}+@{Ride_class}+@{Ride_stat_display}+@{Ride-trait}+@{Ride-gift}+@{Ride-object}"/></td>
                    <td>
                        <input type="number" name="attr_Ride_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Ride_class" value="@{Ride_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Ride_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Ride_stat_display" value="@{Ride_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Ride-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Ride-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Ride-object" value="0"/></td>
                </tr>
                <!--Escalade -->
                <tr>
                    <td>
                        <button title="%{selected|Climb-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Escalade}}{{res=[[1D20cf<1cs>20+([[@{Climb_total}]])]]}}' name='roll_Climb'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Climb_cc" value="((((3 * @{Climb_ranks}) + 3) - abs((3 * @{Climb_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Escalade</td>
                    <td>
                        <input type="number" name="attr_Climb_total" class="sheet-strong" disabled="disabled" value="@{Climb_ranks}+@{Climb_class}+@{Climb_stat_display}+@{Climb-trait}+@{Climb-gift}+@{Climb-object}"/></td>
                    <td>
                        <input type="number" name="attr_Climb_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Climb_class" value="@{Climb_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Climb_stat">
                            <option value="@{character_strength_mod}" selected>For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Climb_stat_display" value="@{Climb_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Climb-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Climb-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Climb-object" value="0"/></td>
                </tr>
                <!--Evasion -->
                <tr>
                    <td>
                        <button title="%{selected|Escape-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Evasion}}{{res=[[1D20cf<1cs>20+([[@{Escape_total}]])]]}}' name='roll_Escape'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Escape_cc" value="((((3 * @{Escape_ranks}) + 3) - abs((3 * @{Escape_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Évasion</td>
                    <td>
                        <input type="number" name="attr_Escape_total" class="sheet-strong" disabled="disabled" value="@{Escape_ranks}+@{Escape_class}+@{Escape_stat_display}+@{Escape-trait}+@{Escape-gift}+@{Escape-object}"/></td>
                    <td>
                        <input type="number" name="attr_Escape_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Escape_class" value="@{Escape_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Escape_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Escape_stat_display" value="@{Escape_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Escape-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Escape-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Escape-object" value="0"/></td>
                </tr>
                <!--Intimidation -->
                <tr>
                    <td>
                        <button title="%{selected|Intimidate-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Intimidation}}{{res=[[1D20cf<1cs>20+([[@{Intimidate_total}]])]]}}' name='roll_Intimidate'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Intimidate_cc" value="((((3 * @{Intimidate_ranks}) + 3) - abs((3 * @{Intimidate_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Intimidation</td>
                    <td>
                        <input type="number" name="attr_Intimidate_total" class="sheet-strong" disabled="disabled" value="@{Intimidate_ranks}+@{Intimidate_class}+@{Intimidate_stat_display}+@{Intimidate-trait}+@{Intimidate-gift}+@{Intimidate-object}"/></td>
                    <td>
                        <input type="number" name="attr_Intimidate_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Intimidate_class" value="@{Intimidate_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Intimidate_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Intimidate_stat_display" value="@{Intimidate_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Intimidate-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Intimidate-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Intimidate-object" value="0"/></td>
                </tr>
                <!--Natation -->
                <tr>
                    <td>
                        <button title="%{selected|Swim-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Natation}}{{res=[[1D20cf<1cs>20+([[@{Swim_total}]])]]}}' name='roll_Swim'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Swim_cc" value="((((3 * @{Swim_ranks}) + 3) - abs((3 * @{Swim_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Natation</td>
                    <td>
                        <input type="number" name="attr_Swim_total" class="sheet-strong" disabled="disabled" value="@{Swim_ranks}+@{Swim_class}+@{Swim_stat_display}+@{Swim-trait}+@{Swim-gift}+@{Swim-object}"/></td>
                    <td>
                        <input type="number" name="attr_Swim_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Swim_class" value="@{Swim_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Swim_stat">
                            <option value="@{character_strength_mod}" selected>For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Swim_stat_display" value="@{Swim_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Swim-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Swim-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Swim-object" value="0"/></td>
                </tr>
                <!--Perception -->
                <tr>
                    <td>
                        <button title="%{selected|Perception-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Perception}}{{res=[[1D20cf<1cs>20+([[@{Perception_total}]])]]}}' name='roll_Perception'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Perception_cc" value="((((3 * @{Perception_ranks}) + 3) - abs((3 * @{Perception_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Perception</td>
                    <td>
                        <input type="number" name="attr_Perception_total" class="sheet-strong" disabled="disabled" value="@{Perception_ranks}+@{Perception_class}+@{Perception_stat_display}+@{Perception-trait}+@{Perception-gift}+@{Perception-object}"/></td>
                    <td>
                        <input type="number" name="attr_Perception_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perception_class" value="@{Perception_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Perception_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Perception_stat_display" value="@{Perception_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Perception-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perception-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perception-object" value="0"/></td>
                </tr>
                <!--Premier secours -->
                <tr>
                    <td>
                        <button title="%{selected|Heal-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Premier secours}}{{res=[[1D20cf<1cs>20+([[@{Heal_total}]])]]}}' name='roll_Heal'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Heal_cc" value="((((3 * @{Heal_ranks}) + 3) - abs((3 * @{Heal_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Premier secours</td>
                    <td>
                        <input type="number" name="attr_Heal_total" class="sheet-strong" disabled="disabled" value="@{Heal_ranks}+@{Heal_class}+@{Heal_stat_display}+@{Heal-trait}+@{Heal-gift}+@{Heal-object}"/></td>
                    <td>
                        <input type="number" name="attr_Heal_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Heal_class" value="@{Heal_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Heal_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Heal_stat_display" value="@{Heal_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Heal-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Heal-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Heal-object" value="0"/></td>
                </tr>
                <!--Psychologie -->
                <tr>
                    <td>
                        <button title="%{selected|Sense-Motive-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Psychologie}}{{res=[[1D20cf<1cs>20+([[@{Sense-Motive_total}]])]]}}' name='roll_Sense-Motive'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Sense-Motive_cc" value="((((3 * @{Sense-Motive_ranks}) + 3) - abs((3 * @{Sense-Motive_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Psychologie</td>
                    <td>
                        <input type="number" name="attr_Sense-Motive_total" class="sheet-strong" disabled="disabled" value="@{Sense-Motive_ranks}+@{Sense-Motive_class}+@{Sense-Motive_stat_display}+@{Sense-Motive-trait}+@{Sense-Motive-gift}+@{Sense-Motive-object}"/></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive_class" value="@{Sense-Motive_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Sense-Motive_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive_stat_display" value="@{Sense-Motive_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sense-Motive-object" value="0"/></td>
                </tr>
                <!--Sabotage -->
                <tr>
                    <td>
                        <button title="%{selected|Disable-Device-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Sabotage}}{{res=[[1D20cf<1cs>20+([[@{Disable-Device_total}]])]]}}' name='roll_Disable-Device'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Disable-Device_cc" value="((((3 * @{Disable-Device_ranks}) + 3) - abs((3 * @{Disable-Device_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Sabotage</td>
                    <td>
                        <input type="number" name="attr_Disable-Device_total" class="sheet-strong" disabled="disabled" value="@{Disable-Device_ranks}+@{Disable-Device_class}+@{Disable-Device_stat_display}+@{Disable-Device-trait}+@{Disable-Device-gift}+@{Disable-Device-object}"/></td>
                    <td>
                        <input type="number" name="attr_Disable-Device_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disable-Device_class" value="@{Disable-Device_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Disable-Device_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Disable-Device_stat_display" value="@{Disable-Device_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Disable-Device-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disable-Device-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Disable-Device-object" value="0"/></td>
                </tr>
                <!--Survie -->
                <tr>
                    <td>
                        <button title="%{selected|Survival-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Survie}}{{res=[[1D20cf<1cs>20+([[@{Survival_total}]])]]}}' name='roll_Survival'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Survival_cc" value="((((3 * @{Survival_ranks}) + 3) - abs((3 * @{Survival_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Survie</td>
                    <td>
                        <input type="number" name="attr_Survival_total" class="sheet-strong" disabled="disabled" value="@{Survival_ranks}+@{Survival_class}+@{Survival_stat_display}+@{Survival-trait}+@{Survival-gift}+@{Survival-object}"/></td>
                    <td>
                        <input type="number" name="attr_Survival_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Survival_class" value="@{Survival_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Survival_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Survival_stat_display" value="@{Survival_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Survival-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Survival-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Survival-object" value="0"/></td>
                </tr>
                <!--Utilisation d'objet magique -->
                <tr>
                    <td>
                        <button title="%{selected|Use-Magic-Device-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Objet magique}}{{res=[[1D20cf<1cs>20+([[@{Use-Magic-Device_total}]])]]}}' name='roll_Use-Magic-Device'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Use-Magic-Device_cc" value="((((3 * @{Use-Magic-Device_ranks}) + 3) - abs((3 * @{Use-Magic-Device_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Utilisation d'objet magique</td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device_total" class="sheet-strong" disabled="disabled" value="@{Use-Magic-Device_ranks}+@{Use-Magic-Device_class}+@{Use-Magic-Device_stat_display}+@{Use-Magic-Device-trait}+@{Use-Magic-Device-gift}+@{Use-Magic-Device-object}"/></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device_class" value="@{Use-Magic-Device_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Use-Magic-Device_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device_stat_display" value="@{Use-Magic-Device_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Use-Magic-Device-object" value="0"/></td>
                </tr>
                <!--Vol -->
                <tr>
                    <td>
                        <button title="%{selected|Fly-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Vol}}{{res=[[1D20cf<1cs>20+([[@{Fly_total}]])]]}}' name='roll_Fly'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Fly_cc" value="((((3 * @{Fly_ranks}) + 3) - abs((3 * @{Fly_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Vol</td>
                    <td>
                        <input type="number" name="attr_Fly_total" class="sheet-strong" disabled="disabled" value="@{Fly_ranks}+@{Fly_class}+@{Fly_stat_display}+@{Fly-trait}+@{Fly-gift}+@{Fly-object}"/></td>
                    <td>
                        <input type="number" name="attr_Fly_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Fly_class" value="@{Fly_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Fly_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Fly_stat_display" value="@{Fly_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Fly-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Fly-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Fly-object" value="0"/></td>
                </tr>
                </tbody>
            </table>

        </div>

        <div class="sheet-skill sheet-section">
            <h2>Background</h2>
            <table>
                <thead>
                <tr>
                    <td width="1%"></td>
                    <th width="1%" title="Compétence de Classe">CC</th>
                    <th>Compétence</th>
                    <th width="8%">Total</th>
                    <th width="8%">Rang</th>
                    <th width="8%">Classe</th>
                    <th width="8%" title="Caractéristique">Carac.</th>
                    <th width="8%" title="Modificateur">Mod.</th>
                    <th width="8%">Trait</th>
                    <th width="8%">Don</th>
                    <th width="8%">Objet</th>
                </tr>
                </thead>
                <tbody>
                <!--Art-->
                <tr>
                    <td>
                        <button title="%{selected|Artistry-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Art}}{{res=[[1D20cf<1cs>20+([[@{Artistry_total}]])]]}}' name='roll_Artistry'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Artistry_cc" value="((((3 * @{Artistry_ranks}) + 3) - abs((3 * @{Artistry_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Artistry-name" placeholder="Art"></td>
                    <td>
                        <input type="number" name="attr_Artistry_total" class="sheet-strong" disabled="disabled" value="@{Artistry_ranks}+@{Artistry_class}+@{Artistry_stat_display}+@{Artistry-trait}+@{Artistry-gift}+@{Artistry-object}"/></td>
                    <td>
                        <input type="number" name="attr_Artistry_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Artistry_class" value="@{Artistry_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Artistry_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input title="@Artistry_stat}" type="number" name="attr_Artistry_stat_display" value="@{Artistry_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Artistry-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Artistry-gift" value="0"/></td>
                    <td><input type="number" name="attr_Artistry-object" value="0"/></td>
                </tr>
                <!--Artisanat -->
                <tr>
                    <td>
                        <button title="%{selected|Craft-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Artisanat}}{{res=[[1D20cf<1cs>20+([[@{Craft_total}]])]]}}' name='roll_Craft'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Craft_cc" value="((((3 * @{Craft_ranks}) + 3) - abs((3 * @{Craft_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Craft-name" placeholder="Artisanat"></td>
                    <td>
                        <input type="number" name="attr_Craft_total" class="sheet-strong" disabled="disabled" value="@{Craft_ranks}+@{Craft_class}+@{Craft_stat_display}+@{Craft-trait}+@{Craft-gift}+@{Craft-object}"/></td>
                    <td>
                        <input type="number" name="attr_Craft_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft_class" value="@{Craft_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Craft_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Craft_stat_display" value="@{Craft_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Craft-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft-object" value="0"/></td>
                </tr>
                <!--Artisanat2 -->
                <tr>
                    <td>
                        <button title="%{selected|Craft2-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Artisanat 2}}{{res=[[1D20cf<1cs>20+([[@{Craft2_total}]])]]}}' name='roll_Craft2'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Craft2_cc" value="((((3 * @{Craft2_ranks}) + 3) - abs((3 * @{Craft2_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Craft2-name" placeholder="Artisanat"></td>
                    <td>
                        <input type="number" name="attr_Craft2_total" class="sheet-strong" disabled="disabled" value="@{Craft2_ranks}+@{Craft2_class}+@{Craft2_stat_display}+@{Craft2-trait}+@{Craft2-gift}+@{Craft2-object}"/></td>
                    <td>
                        <input type="number" name="attr_Craft2_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft2_class" value="@{Craft2_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Craft2_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Craft2_stat_display" value="@{Craft2_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Craft2-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft2-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft2-object" value="0"/></td>
                </tr>
                <!--Artisanat3 -->
                <tr>
                    <td>
                        <button title="%{selected|Craft3-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Artisanat 3}}{{res=[[1D20cf<1cs>20+([[@{Craft3_total}]])]]}}' name='roll_Craft3'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Craft3_cc" value="((((3 * @{Craft3_ranks}) + 3) - abs((3 * @{Craft3_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Craft3-name" placeholder="Artisanat"></td>
                    <td>
                        <input type="number" name="attr_Craft3_total" class="sheet-strong" disabled="disabled" value="@{Craft3_ranks}+@{Craft3_class}+@{Craft3_stat_display}+@{Craft3-trait}+@{Craft3-gift}+@{Craft3-object}"/></td>
                    <td>
                        <input type="number" name="attr_Craft3_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft3_class" value="@{Craft3_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Craft3_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Craft3_stat_display" value="@{Craft3_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Craft3-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft3-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Craft3-object" value="0"/></td>
                </tr>
                <!--Connaissance (géographie) -->
                <tr>
                    <td>
                        <button title="%{selected|Knowledge-Geography-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Connaissance (géographie)}}{{res=[[1D20cf<1cs>20+([[@{Knowledge-Geography_total}]])]]}}' name='roll_Knowledge-Geography'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Geography_cc" value="((((3 * @{Knowledge-Geography_ranks}) + 3) - abs((3 * @{Knowledge-Geography_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Géographie)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography_total" class="sheet-strong" disabled="disabled" value="@{Knowledge-Geography_ranks}+@{Knowledge-Geography_class}+@{Knowledge-Geography_stat_display}+@{Knowledge-Geography-trait}+@{Knowledge-Geography-gift}+@{Knowledge-Geography-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography_class" value="@{Knowledge-Geography_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Geography_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography_stat_display" value="@{Knowledge-Geography_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Geography-object" value="0"/></td>
                </tr>
                <!--Connaissance (Histoire) -->
                <tr>
                    <td>
                        <button title="%{selected|Knowledge-History-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Connaissance (Histoire)}}{{res=[[1D20cf<1cs>20+([[@{Knowledge-History_total}]])]]}}' name='roll_Knowledge-History'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-History_cc" value="((((3 * @{Knowledge-History_ranks}) + 3) - abs((3 * @{Knowledge-History_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Histoire)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-History_total" class="sheet-strong" disabled="disabled" value="@{Knowledge-History_ranks}+@{Knowledge-History_class}+@{Knowledge-History_stat_display}+@{Knowledge-History-trait}+@{Knowledge-History-gift}+@{Knowledge-History-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History_class" value="@{Knowledge-History_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-History_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History_stat_display" value="@{Knowledge-History_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-History-object" value="0"/></td>
                </tr>
                <!--Connaissance (ingénierie) -->
                <tr>
                    <td>
                        <button title="%{selected|{Knowledge-Engineering-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Connaissance (ingénierie)}}{{res=[[1D20cf<1cs>20+([[@{Knowledge-Engineering_total}]])]]}}' name='roll_Knowledge-Engineering'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Engineering_cc" value="((((3 * @{Knowledge-Engineering_ranks}) + 3) - abs((3 * @{Knowledge-Engineering_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Ingénierie)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering_total" class="sheet-strong" disabled="disabled" value="@{Knowledge-Engineering_ranks}+@{Knowledge-Engineering_class}+@{Knowledge-Engineering_stat_display}+@{Knowledge-Engineering-trait}+@{Knowledge-Engineering-gift}+@{Knowledge-Engineering-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering_class" value="@{Knowledge-Engineering_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Engineering_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering_stat_display" value="@{Knowledge-Engineering_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Engineering-object" value="0"/></td>
                </tr>
                <!--Connaissance (Noblesse) -->
                <tr>
                    <td>
                        <button title="%{selected|Spellcraft-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Connaissance (Noblesse)}}{{res=[[1D20cf<1cs>20+([[@{Knowledge-Nobility_total}]])]]}}' name='roll_Knowledge-Nobility'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Knowledge-Nobility_cc" value="((((3 * @{Knowledge-Nobility_ranks}) + 3) - abs((3 * @{Knowledge-Nobility_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Connaissance (Noblesse)</td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility_total" class="sheet-strong" disabled="disabled" value="@{Knowledge-Nobility_ranks}+@{Knowledge-Nobility_class}+@{Knowledge-Nobility_stat_display}+@{Knowledge-Nobility-trait}+@{Knowledge-Nobility-gift}+@{Knowledge-Nobility-object}"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility_class" value="@{Knowledge-Nobility_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Knowledge-Nobility_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility_stat_display" value="@{Knowledge-Nobility_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Knowledge-Nobility-object" value="0"/></td>
                </tr>
                <!--Dressage -->
                <tr>
                    <td>
                        <button title="%{selected|Handle-Animal-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Dressage}}{{res=[[1D20cf<1cs>20+([[@{Handle-Animal_total}]])]]}}' name='roll_Handle-Animal'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Handle-Animal_cc" value="((((3 * @{Handle-Animal_ranks}) + 3) - abs((3 * @{Handle-Animal_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Dressage</td>
                    <td>
                        <input type="number" name="attr_Handle-Animal_total" class="sheet-strong" disabled="disabled" value="@{Handle-Animal_ranks}+@{Handle-Animal_class}+@{Handle-Animal_stat_display}+@{Handle-Animal-trait}+@{Handle-Animal-gift}+@{Handle-Animal-object}"/></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal_class" value="@{Handle-Animal_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Handle-Animal_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal_stat_display" value="@{Handle-Animal_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Handle-Animal-object" value="0"/></td>
                </tr>
                <!--Escomatage -->
                <tr>
                    <td>
                        <button title="%{selected|Sleight-of-Hand-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Escomatage}}{{res=[[1D20cf<1cs>20+([[@{Sleight-of-Hand_total}]])]]}}' name='roll_Sleight-of-Hand'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Sleight-of-Hand_cc" value="((((3 * @{Sleight-of-Hand_ranks}) + 3) - abs((3 * @{Sleight-of-Hand_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Escamotage</td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand_total" class="sheet-strong" disabled="disabled" value="@{Sleight-of-Hand_ranks}+@{Sleight-of-Hand_class}+@{Sleight-of-Hand_stat_display}+@{Sleight-of-Hand-trait}+@{Sleight-of-Hand-gift}+@{Sleight-of-Hand-object}"/></td>
                    <td>

                        <input type="number" name="attr_Sleight-of-Hand_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand_class" value="@{Sleight-of-Hand_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Sleight-of-Hand_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}" selected>Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand_stat_display" value="@{Sleight-of-Hand_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Sleight-of-Hand-object" value="0"/></td>
                </tr>
                <!--Estimation -->
                <tr>
                    <td>
                        <button title="%{selected|Appraiset-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Estimation}}{{res=[[1D20cf<1cs>20+([[@{Appraise_total}]])]]}}' name='roll_Appraise'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Appraise_cc" value="((((3 * @{Appraise_ranks}) + 3) - abs((3 * @{Appraise_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Estimation</td>
                    <td>
                        <input type="number" name="attr_Appraise_total" class="sheet-strong" disabled="disabled" value="@{Appraise_ranks}+@{Appraise_class}+@{Appraise_stat_display}+@{Appraise-trait}+@{Appraise-gift}+@{Appraise-object}"/></td>
                    <td>
                        <input type="number" name="attr_Appraise_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Appraise_class" value="@{Appraise_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Appraise_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Appraise_stat_display" value="@{Appraise_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Appraise-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Appraise-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Appraise-object" value="0"/></td>
                </tr>
                <!--Linguistique -->
                <tr>
                    <td>
                        <button title="%{selected|Linguistics-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Linguistique}}{{res=[[1D20cf<1cs>20+([[@{Linguistics_total}]])]]}}' name='roll_Linguistics'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Linguistics_cc" value="((((3 * @{Linguistics_ranks}) + 3) - abs((3 * @{Linguistics_ranks}) - 3)) / 2)"/></td>
                    <td>
                        Linguisitique</td>
                    <td>
                        <input type="number" name="attr_Linguistics_total" class="sheet-strong" disabled="disabled" value="@{Linguistics_ranks}+@{Linguistics_class}+@{Linguistics_stat_display}+@{Linguistics-trait}+@{Linguistics-gift}+@{Linguistics-object}"/></td>
                    <td>
                        <input type="number" name="attr_Linguistics_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Linguistics_class" value="@{Linguistics_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Linguistics_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Linguistics_stat_display" value="@{Linguistics_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Linguistics-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Linguistics-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Linguistics-object" value="0"/></td>
                </tr>
                <!--Lore -->
                <tr>
                    <td>
                        <button title="%{selected|Lore-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Lore}}{{res=[[1D20cf<1cs>20+([[@{Lore_total}]])]]}}' name='roll_Lore'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Lore_cc" value="((((3 * @{Lore_ranks}) + 3) - abs((3 * @{Lore_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Lore-name" placeholder="Lore"></td>
                    <td>
                        <input type="number" name="attr_Lore_total" class="sheet-strong" disabled="disabled" value="@{Lore_ranks}+@{Lore_class}+@{Lore_stat_display}+@{Lore-trait}+@{Lore-gift}+@{Lore-object}"/></td>
                    <td>
                        <input type="number" name="attr_Lore_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Lore_class" value="@{Lore_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Lore_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Lore_stat_display" value="@{Lore_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Lore-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Lore-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Lore-object" value="0"/></td>
                </tr>
                <!--Profession -->
                <tr>
                    <td>
                        <button title="%{selected|Profession-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Profession}}{{res=[[1D20cf<1cs>20+([[@{Profession_total}]])]]}}' name='roll_Profession'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Profession_cc" value="((((3 * @{Profession_ranks}) + 3) - abs((3 * @{Profession_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Pofession-name" placeholder="Profession"></td>
                    <td>
                        <input type="number" name="attr_Profession_total" class="sheet-strong" disabled="disabled" value="@{Profession_ranks}+@{Profession_class}+@{Profession_stat_display}+@{Profession-trait}+@{Profession-gift}+@{Profession-object}"/></td>
                    <td>

                        <input type="number" name="attr_Profession_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession_class" value="@{Profession_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Profession_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Profession_stat_display" value="@{Profession_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Profession-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession-object" value="0"/></td>
                </tr>
                <!--Profession2 -->
                <tr>
                    <td>
                        <button title="%{selected|Profession2-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Profession 2}}{{res=[[1D20cf<1cs>20+([[@{Profession2_total}]])]]}}' name='roll_Profession2'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Profession2_cc" value="((((3 * @{Profession2_ranks}) + 3) - abs((3 * @{Profession2_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Pofession2-name" placeholder="Profession"></td>
                    <td>
                        <input type="number" name="attr_Profession2_total" class="sheet-strong" disabled="disabled" value="@{Profession2_ranks}+@{Profession2_class}+@{Profession2_stat_display}+@{Profession2-trait}+@{Profession2-gift}+@{Profession2-object}"/></td>
                    <td>

                        <input type="number" name="attr_Profession2_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession2_class" value="@{Profession2_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Profession2_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Profession2_stat_display" value="@{Profession2_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Profession2-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession2-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession2-object" value="0"/></td>
                </tr>
                <!--Profession3 -->
                <tr>
                    <td>
                        <button title="%{selected|Profession3-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Profession 3}}{{res=[[1D20cf<1cs>20+([[@{Profession3_total}]])]]}}' name='roll_Profession3'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Profession3_cc" value="((((3 * @{Profession3_ranks}) + 3) - abs((3 * @{Profession3_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Pofession3-name" placeholder="Profession"></td>
                    <td>
                        <input type="number" name="attr_Profession3_total" class="sheet-strong" disabled="disabled" value="@{Profession3_ranks}+@{Profession3_class}+@{Profession3_stat_display}+@{Profession3-trait}+@{Profession3-gift}+@{Profession3-object}"/></td>
                    <td>
                        <input type="number" name="attr_Profession3_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession3_class" value="@{Profession3_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Profession3_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}" selected>Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Profession3_stat_display" value="@{Profession3_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Profession3-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession3-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Profession3-object" value="0"/></td>
                </tr>
                <!--Représentation -->
                <tr>
                    <td>
                        <button title="%{selected|Perform-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Représentation}}{{res=[[1D20cf<1cs>20+([[@{Perform_total}]])]]}}' name='roll_Perform'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Perform_cc" value="((((3 * @{Perform_ranks}) + 3) - abs((3 * @{Perform_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Perform-name" placeholder="Représentation"></td>
                    <td>

                        <input type="number" name="attr_Perform_total" class="sheet-strong" disabled="disabled" value="@{Perform_ranks}+@{Perform_class}+@{Perform_stat_display}+@{Perform-trait}+@{Perform-gift}+@{Perform-object}"/></td>
                    <td>
                        <input type="number" name="attr_Perform_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform_class" value="@{Perform_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Perform_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Perform_stat_display" value="@{Perform_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Perform-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform-object" value="0"/></td>
                </tr>
                <!--Représentation2 -->
                <tr>
                    <td>
                        <button title="%{selected|Perform2-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Représentation 2}}{{res=[[1D20cf<1cs>20+([[@{Perform2_total}]])]]}}' name='roll_Perform2'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Perform2_cc" value="((((3 * @{Perform2_ranks}) + 3) - abs((3 * @{Perform3_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Perform2-name" placeholder="Représentation"></td>
                    <td>
                        <input type="number" name="attr_Perform2_total" class="sheet-strong" disabled="disabled" value="@{Perform2_ranks}+@{Perform2_class}+@{Perform2_stat_display}+@{Perform2-trait}+@{Perform2-gift}+@{Perform2-object}"/></td>
                    <td>
                        <input type="number" name="attr_Perform2_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform2_class" value="@{Perform2_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Perform2_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Perform2_stat_display" value="@{Perform2_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Perform2-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform2-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform2-object" value="0"/></td>
                </tr>
                <!--Représentation3 -->
                <tr>
                    <td>
                        <button title="%{selected|Perform3-Check}" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Représentation 3}}{{res=[[1D20cf<1cs>20+([[@{Perform3_total}]])]]}}' name='roll_Perform3'></button></td>
                    <td>
                        <input type="checkbox" name="attr_Perform3_cc" value="((((3 * @{Perform3_ranks}) + 3) - abs((3 * @{Perform3_ranks}) - 3)) / 2)"/></td>
                    <td>
                        <input class="sheet-skill-custom" type="text" name="attr_Perform3-name" placeholder="Représentation"></td>
                    <td>
                        <input type="number" name="attr_Perform3_total" class="sheet-strong" disabled="disabled" value="@{Perform3_ranks}+@{Perform3_class}+@{Perform3_stat_display}+@{Perform3-trait}+@{Perform3-gift}+@{Perform3-object}"/></td>
                    <td>

                        <input type="number" name="attr_Perform3_ranks" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform3_class" value="@{Perform3_cc}" disabled="disabled"/></td>
                    <td>
                        <select name="attr_Perform3_stat">
                            <option value="@{character_strength_mod}">For.</option>
                            <option value="@{character_dexterity_mod}">Dex.</option>
                            <option value="@{character_constitution_mod}">Con.</option>
                            <option value="@{character_intelligence_mod}">Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}" selected>Cha.</option>
                        </select></td>
                    <td>
                        <input type="number" name="attr_Perform3_stat_display" value="@{Perform3_stat}" disabled="disabled"/></td>
                    <td>
                        <input type="number" name="attr_Perform3-trait" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform3-gift" value="0"/></td>
                    <td>
                        <input type="number" name="attr_Perform3-object" value="0"/></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="sheet-tab-content">
        <div class="sheet-flexrow">
            <div class="sheet-flexcol">
                <div class="sheet-feat-racial sheet-section">
                    <h2>Traits racial</h2>
                    <fieldset class="repeating_featracial">
                        <div class="sheet-featracial-content">
                            <input class="sheet-featracial-label" type="text" placeholder="Nom du trait racial" name="attr_featracial_label">
                            <textarea class="sheet-featracial-description" name="attr_featracial_description" placeholder="Description complète du trait racial"></textarea>
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="sheet-flexcol">
                <div class="sheet-feat sheet-section">
                    <h2>Dons</h2>
                    <fieldset class="repeating_feat">
                        <div class="sheet-feat-content">
                            <div class="sheet-flexrow">
                                <div class="sheet-flexcol">
                                    <input type="text" name="attr_feat_name" placeholder="Nom du don">
                                </div>
                                <div class="sheet-flexcol5">
                                    <div class="sheet-input-group">
                                        <div class="sheet-input-group-text">
                                            <span>Utilisations</span>
                                        </div>
                                        <input type="number" name="attr_feat_user" value="0">
                                        <div class="sheet-input-group-text">
                                            <span>/</span>
                                        </div>
                                        <input type="number" name="attr_feat_user_max" value="1">
                                    </div>
                                </div>
                            </div>
                            <input class="sheet-feat-description-short" type="text" name="attr_feat_description_short" placeholder="Description courte">
                            <textarea class="sheet-feat-description" name="attr_feat_description" placeholder="Description complète du don"></textarea>
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>

    <div class="sheet-tab-content">
        <div class="sheet-flexrow">
            <div class="sheet-flexcol">
                <div class="sheet-magic sheet-section">
                    <h2>Magie</h2>
                    <div class="sheet-flexrow">
                        <div class="sheet-flexcol sheet-thead">
                            <p>Nom</p>
                        </div>
                        <div class="sheet-flexcol12 sheet-thead">
                            <p><abbr title="Caractéristique">Carac.</abbr></p>
                        </div>
                        <div class="sheet-flexcol sheet-thead">
                            <p>Classe</p>
                        </div>
                        <div class="sheet-flexcol sheet-thead">
                            <p>Divers</p>
                        </div>
                    </div>
                    <fieldset>
                        <div class="sheet-flexrow">
                            <div class="sheet-flexcol">
                                <input type="text" name="attr_spell-name" placeholder="" />
                            </div>
                            <div class="sheet-flexcol12">
                                <select name="attr_spell-focus-stat">
                                    <option value="@{character_intelligence_mod}" selected="selected">Int.</option>
                                    <option value="@{character_wisdom_mod}">Sag.</option>
                                    <option value="@{character_charisma_mod}">Cha.</option>
                                </select>
                            </div>
                            <div class="sheet-flexcol">
                                <input type="number" name="attr_spell-focus-mod" value="0"/>
                            </div>
                            <div class="sheet-flexcol">
                                <input type="number" name="attr_spell-focus-misc" value="0"/>
                            </div>
                        </div>
                        <b>Description</b>
                        <textarea name="attr_spells-description"></textarea>
                    </fieldset>
                </div>
            </div>
            <div class="sheet-flexcol">
                <div class="sheet-witchcraft sheet-section">
                    <h2>Sortilèges</h2>
                    <fieldset class="repeating_witchcraft">
                        <table>
                            <thead>
                            <tr>
                                <th>Préparé</th>
                                <th>Nom</th>
                                <th>Classe</th>
                                <th>Niveau</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <input type="checkbox" name="attr_witchcraft-prepared" />
                                </td>
                                <td>
                                    <input type="text" name="attr_withcraft-name" />
                                </td>
                                <td>
                                    <select name="attr_witchraft_class">
                                        <option selected="selected">N/A</option>
                                        <option value="@{attr_spell-classe1-Focus-name}"></option>
                                        <option value="@{attr_spell-classe2-Focus-name}"></option>
                                        <option value="@{attr_spell-classe3-Focus-name}"></option>
                                    </select>
                                </td>
                                <td>
                                    <input type="number" name="attr_witchcraft-level" value="0" />
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <table>
                            <thead>
                            <tr>
                                <th>École</th>
                                <th>Composants</th>
                                <th>Portée</th>
                                <th>Cibles / zone</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <input type="text" name="attr_witchcraft-school" />
                                </td>
                                <td>
                                    <input type="text" name="attr_witchcraft-components" />
                                </td>
                                <td>
                                    <input type="text" name="attr_witchcraft-range" />
                                </td>
                                <td>
                                    <input type="text" name="attr_witchcraft-target" />
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <table>
                            <thead>
                            <tr>
                                <th>Condition jet de sauvegarde</th>
                                <th>Durée</th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>
                                    <input type="text" name="attr_witchcraft-save-condition" />
                                </td>
                                <td>
                                    <select name="attr_witchcraft_duration">
                                        <option selected="selected"></option>
                                    </select>
                                </td>
                            </tr>
                            </tbody>
                        </table>

                        <span>Description</span>
                        <textarea name="attr_witchcraft-description"></textarea>
                    </fieldset>
                </div>
            </div>
        </div>

        <div class="sheet-spell sheet-section">
            <table style="display: none;">
                <thead>
                <tr>
                    <th class="sheet-spell-classe-FocusRoll">Jet de Concentration</th>
                    <th class="sheet-spell-classe-name">Nom</th>
                    <th class="sheet-spell-classe-Focus-Stat">Caractéristique</th>
                    <th class="sheet-spell-classe-Focus-Mod">Classe</th>
                    <th class="sheet-spell-classe-Focus-Misc">Divers</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <button title="attr_spell-classe1-FocusRoll" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Concentration}}{{res=[[1D20+[[@{spell-classe1-Focus-Stat}]]+@{spell-classe1-Focus-Mod}+@{spell-classe1-Focus-Misc}]]}}' name='roll_Focus1'> Concentration</button>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="text" name="attr_spell-classe1-Focus-name" value="N/A" />
                    </td>
                    <td class="sheet-spell-classe">
                        <select class="sheet-inputbox-spell-classe" name="attr_spell-classe1-Focus-Stat">
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe1-Focus-Mod" value="0"/>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe1-Focus-Misc" value="0"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button title="attr_spell-classe2-FocusRoll" type="roll" value='&{template:basicstatroll}{{who=@{character_name}}}{{name=Concentration}}{{res=[[1D20+[[@{spell-classe2-Focus-Stat}]]+@{spell-classe2-Focus-Mod}+@{spell-classe2-Focus-Misc}]]}}' name='roll_Focus2'> Concentration</button>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="text" name="attr_spell-classe2-Focus-name" value="N/A" />
                    </td>
                    <td class="sheet-spell-classe">
                        <select class="sheet-inputbox-spell-classe" name="attr_spell-classe2-Focus-Stat">
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe2-Focus-Mod" value="0"/>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe2-Focus-Misc" value="0"/>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button title="attr_spell-classe2-FocusRoll" type="roll" value='&{template:roll}{{basic=show}}{{who=@{character_name}}}{{name=Concentration}}{{res=[[1D20+[[@{spell-classe3-Focus-Stat}]]+@{spell-classe3-Focus-Mod}+@{spell-classe3-Focus-Misc}]]}}' name='roll_Focus3'> Concentration</button>
                    </td>
                    <td class="sheet-spell-classe">
                        <input class="sheet-inputbox-spell-classe" type="text" name="attr_spell-classe3-Focus-name" value="N/A" />
                    </td>
                    <td class="sheet-spell-classe-">
                        <select class="sheet-inputbox-spell-classe" name="attr_spell-classe3-Focus-Stat">
                            <option value="@{character_intelligence_mod}" selected>Int.</option>
                            <option value="@{character_wisdom_mod}">Sag.</option>
                            <option value="@{character_charisma_mod}">Cha.</option>
                        </select>
                    </td>
                    <td class="sheet-spell-classe-">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe3-Focus-Mod" value="0"/>
                    </td>
                    <td class="sheet-spell-classe-">
                        <input class="sheet-inputbox-spell-classe" type="number" name="attr_spell-classe3-Focus-Misc" value="0"/>
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="sheet-tab-content">
        <div class="sheet-equipment-weapon sheet-section">
            <h2>Armes</h2>
            <table>
                <thead>
                <tr>
                    <th width="25%">Nom</th>
                    <th width="10%"title="1d6, 2d8, ..." >Dégâts</th>
                    <th width="120px" title="facteur de Critiques">Crit.</th>
                    <th width="10%" title="facteur de portée">Portée</th>
                    <th width="10%">Type</th>
                    <th>Spécial</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <fieldset class="repeating_equipementweapon">
                <div class="sheet-equipment-weapon-content">
                    <table>
                        <tbody>
                        <tr>
                            <td width="25%">
                                <input type="text" name="attr_equipment_weapon_name" />
                            </td>
                            <td width="10%">
                                <input type="text" name="attr_equipment_weapon_damage" />
                            </td>
                            <td width="130px">
                                <div class="sheet-input-group">
                                    <select name="attr_equipment_weapon_critic">
                                        <option value="20" selected="selected">​20</option>
                                        <option value="19">​19-20</option>
                                        <option value="18">​18-20</option>
                                        <option value="17">​17-20</option>
                                        <option value="16">​16-20</option>
                                        <option value="15">​15-20</option>
                                        <option value="14">​14-20</option>
                                        <option value="13">​13-20</option>
                                        <option value="12">​12-20</option>
                                        <option value="11">​11-20</option>
                                        <option value="10">10-20​</option>
                                        <option value="9">​9-20</option>
                                        <option value="8">​8-20</option>
                                        <option value="7">​7-20</option>
                                        <option value="6">​6-20</option>
                                        <option value="5">​5-20</option>
                                        <option value="4">​4-20</option>
                                        <option value="3">​3-20</option>
                                        <option value="2">2-20</option>
                                    </select>
                                    <div class="sheet-input-group-append">
                                        <span class="sheet-input-group-text">&#215;</span>
                                    </div>
                                    <input type="number" name="attr_equipment_weapon_critic_multiplier" value="1" min="0" />
                                </div>
                            </td>
                            <td width="10%">
                                <input type="text" name="attr_equipment_weapon_range" value="CaC" />
                            </td>
                            <td width="10%">
                                <select name="attr_equipment_weapon_type">
                                    <option value="1" selected="selected">​-</option>
                                    <option value="2">C</option>
                                    <option value="3">​P</option>
                                    <option value="4">​T</option>
                                    <option value="5">​C/P</option>
                                    <option value="6">​C/T</option>
                                    <option value="7">​P/T</option>
                                </select>
                            </td>
                            <td>
                                <input type="text" name="attr_equipment_weapon_special" />
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </fieldset>
        </div>

        <div class="sheet-equipment-armor sheet-section">
            <h2>Armure</h2>
            <table>
                <thead>
                <tr>
                    <th width="4%" title="Équipé ?">Éqp.</th>
                    <th width="26%">Nom</th>
                    <th width="10%" title="Bonus d'Armure">BA</th>
                    <th width="10%" title="Bonus de Dextérité Maximale">Dex. Max.</th>
                    <th width="10%" title="Malus d'armure aux tests">Malus</th>
                    <th width="10%" title="Risque d'Échec des sorts profanes">Échec</th>
                    <th width="30%">Spécial</th>
                </tr>
                </thead>
                <tbody>
                </tbody>
            </table>
            <fieldset class="repeating_equipmentarmor">
                <table>
                    <thead>
                    <tr>
                        <td width="4%">
                            <input type="checkbox" name="attr_equipment_armor_worn" />
                        </td>
                        <td width="26%">
                            <input type="text" name="attr_equipment_armor_name"/>
                        </td>
                        <td width="10%">
                            <input type="text" name="attr_equipment_armor_bonus"/>
                        </td>
                        <td width="10%">
                            <input type="text" name="attr_equipment_armor_dexterity_max"/>
                        </td>
                        <td width="10%">
                            <input type="text" name="attr_equipment_armor_pa"/>
                        </td>
                        <td width="10%">
                            <input type="text" name="attr_equipment_armor_spell_failure"/>
                        </td>
                        <td width="30%">
                            <input type="text" name="attr_equipment_armor_special" />
                        </td>
                    </tr>
                    </thead>
                    <tbody>
                    </tbody>
                </table>
            </fieldset>
        </div>

        <div class="sheet-flexrow">
            <div class="sheet-flexcol">
                <div class="sheet-inventory sheet-section">
                    <h2>Inventaire</h2>
                    <fieldset class="repeating_inventory">
                        <div class="sheet-flexrow">
                            <div class="sheet-flexcol">
                                <input class="sheet-inventory-description" type="text" name="attr_inventory" placeholder="Description de l'objet" />
                            </div>
                            <div class="sheet-flexcol1">
                                <input class="sheet-inventory-quantity" type="number" name="attr_inventory_quantity_max" value="0"/>
                            </div>
                        </div>
                    </fieldset>
                </div>
            </div>

            <div class="sheet-flexcol">
                <div class="sheet-equipment-magic sheet-section">
                    <h2>Équipement magique</h2>
                    <table>
                        <thead>
                        <tr>
                            <td width="20%"></td>
                            <th>Nom</th>
                            <th>description</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td>
                                <span>Tête</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Head-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Head-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Front</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Headband-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Headband-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Yeux</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-equipment-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-equipment-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Cou</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Neck-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Neck-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Épaules</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Shoulders-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Shoulders-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Corps</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Body-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Body-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Torse</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Chest-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Chest-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Ceinture</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Belt-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Belt-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Poignets</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Wrist-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Wrist-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Main</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Feet-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Feet-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>1er doigt</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Ring1-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Ring1-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>2eme doigt</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Ring2-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Ring2-description"/>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <span>Pieds</span>
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Eyes-name" />
                            </td>
                            <td>
                                <input type="text" name="attr_magical-worn-Eyes-description"/>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>

    </div>

    <div class="sheet-tab-content">
        <fieldset class="repeating_note">
            <div class="sheet-note sheet-section">
                <input class="sheet-note-label" type="text" name="attr_note-label" placeholder="Titre de la note" />
                <textarea class="sheet-note-content" name="attr_notes-content" placeholder="Contenu de la note"></textarea>
            </div>
        </fieldset>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-roll">
    {{#basic}}
    <div class="sheet-body sheet-basic">
        <p>
            <b>{{who}}</b> {{label}} : {{test}}
        </p>
    </div>
    {{/basic}}

    {{#battle}}
    <div class="sheet-body sheet-battle">
        <div class="sheet-flexrow">
            <div class="sheet-flexcol">
                <p>
                    <b>{{who}}</b><br />
                    {{attack_name}}<br />
                    jet d'attaque : {{test}} <br />
                </p>
            </div>
            <div class="sheet-flexcol">
                <p>
                    <b>{{target_name}}</b><br />
                    CA : {{target_ca}}<br />
                </p>
            </div>
        </div>

        {{#rollWasCrit() test}}
        <p>
            <b>coup critique !</b><br />
            dégâts: {{damage_critic}}<br />
        </p>
        {{/rollWasCrit() test}}

        {{#^rollWasCrit() test}}
        {{#rollGreater() test target_ca}}
        <p>
            touché !<br />
            dégâts : {{damage}}<br />
        </p>
        {{/rollGreater() test target_ca}}

        {{#^rollGreater() test target_ca}}
        <p>
            raté !<br />
        </p>
        {{/^rollGreater() test target_ca}}
        {{/^rollWasCrit() test}}
    </div>
    {{/battle}}
</rolltemplate>
